# selpg
## 命令结构
使用`go build selpg.go`会得到selpg执行文件，在ubuntu16.04下运行稳定。
参数说明：
  -sxx -exx 必选参数，表明开始和结尾页数（前闭后闭区间）
  -dxxx 指定打印机，没有测试
  -l/-f 换页方式，只能采用一种
 
## 实现思路
* 首先是输入内容，通过检查flag.NArg()的数量来判断是否存在输入文件名，如果为0，则没有输入文件；如果为1，则默认为输入文件名。
* 没有输入文件名时对于从标准输入读取采用了`ioutil.ReadAll(os.Stdin)`的方式，实验过后效果不错。
* 对于输入文件采用的是ioutil.ReadFile(xxx)的形式，还可以
* 上述两种方式之外都是非法情况，直接报错。两种情况均得到一个[]byte型数据data，里面的数据ASCII码运行正确，对于其他编码（UTF-8）还没有尝试。

* 对于有-d参数的情况，采用了将内容全部转为字符串后直接作为命令参数的方法（原代码223-228行），不然则使用fmt.Printf进行输出。`这里突然想到好像可以合并成一种情况，统一使用字符串进行处理，然后通过判断是否有-d参数来决定是否执行cmd.Exec函数，不知道来不来得及改`
* 对于-l参数存在的情况，模仿原代码的实现方式，使用了行计数器l和页计数器p，通过对每一个换行符的识别来对行计数器累加，当行计数器累加到一定程度时页计数器累加。只有页计数器合法的时候相关内容才会被输出。
* 对于-f参数，则采用判断换页符(ASCII 12，这里发现使用`standard := "\f"时可以通过data[pointer]==standard[0]来识别`)的方式判断是否需要累加页计数器。同样，只有页计数器处于合法区间的时候才会输出。
